[gd_scene load_steps=11 format=3 uid="uid://7ql40a1irvn8"]

[ext_resource type="Texture2D" uid="uid://cieyytnggfciu" path="res://assets/sprites/level.png" id="1_o5qli"]
[ext_resource type="PackedScene" uid="uid://cwag6b2krmx3t" path="res://scenes/enemy.tscn" id="2_0wfyh"]
[ext_resource type="Script" uid="uid://bqd5leyuv7j84" path="res://scripts/spawner.gd" id="2_sugp2"]
[ext_resource type="PackedScene" uid="uid://cts3co4uofmfo" path="res://scenes/tower.tscn" id="4_jyhfs"]
[ext_resource type="Script" uid="uid://bhptx05x3iub8" path="res://scenes/ui.gd" id="5_tbgi4"]
[ext_resource type="Script" uid="uid://0yef8qp18yl4" path="res://scenes/placement_controller.gd" id="5_tefeu"]
[ext_resource type="Texture2D" uid="uid://cfoordp7qdkrx" path="res://assets/sprites/buttonTower1.png" id="7_o6xl0"]
[ext_resource type="Script" uid="uid://dkf5f0ol83jte" path="res://scenes/buy_tower_button.gd" id="8_tipki"]
[ext_resource type="PackedScene" uid="uid://dn7e504813h1c" path="res://scenes/TowerSpot.tscn" id="9_85g3d"]

[sub_resource type="Curve2D" id="Curve2D_sugp2"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -615, -340, -105.553, -28.1114, 105.553, 28.1114, -310, -204, -62.0921, -2.2579, 62.0921, 2.2579, -30, -160, -51.2996, -6.54274, 51.2996, 6.54274, 208, -154, -22.627, -50.578, 22.627, 50.578, 368, -94, 36.9474, -10.7763, -36.9474, 10.7763, 315, -10, 0, 0, 0, 0, 83, 36, 15.7776, -70.6236, -15.7776, 70.6236, -252, 127, -26.4463, -8.26446, 26.4463, 8.26446, -204, 239, 0, 0, 0, 0, 89, 292, -25.6198, -6.61157, 25.6198, 6.61157, 257, 317, 0, 0, 0, 0, 310, 344)
}
point_count = 12

[node name="Main" type="Node2D" node_paths=PackedStringArray("path_2d", "timer")]
script = ExtResource("2_sugp2")
enemy_scene = ExtResource("2_0wfyh")
path_2d = NodePath("Timer (Paths)/Path2D")
timer = NodePath("Timer (Paths)")

[node name="Camera2D" type="Camera2D" parent="."]

[node name="Level" type="Sprite2D" parent="."]
position = Vector2(-3, 1.49999)
scale = Vector2(1.4475, 1.085)
texture = ExtResource("1_o5qli")

[node name="TowerSpots" type="Node" parent="."]

[node name="TowerSpot" parent="TowerSpots" instance=ExtResource("9_85g3d")]
position = Vector2(-291, -113)

[node name="TowerSpot2" parent="TowerSpots" instance=ExtResource("9_85g3d")]
position = Vector2(5, -231)

[node name="TowerSpot3" parent="TowerSpots" instance=ExtResource("9_85g3d")]
position = Vector2(193, -85)

[node name="TowerSpot4" parent="TowerSpots" instance=ExtResource("9_85g3d")]
position = Vector2(-113, 183)

[node name="TowerSpot5" parent="TowerSpots" instance=ExtResource("9_85g3d")]
position = Vector2(-375, 88)

[node name="TowerSpot6" parent="TowerSpots" instance=ExtResource("9_85g3d")]
position = Vector2(-351, 287)

[node name="TowerSpot7" parent="TowerSpots" instance=ExtResource("9_85g3d")]
position = Vector2(276, 207)

[node name="TowerSpot8" parent="TowerSpots" instance=ExtResource("9_85g3d")]
position = Vector2(457, 289)

[node name="TowerSpot9" parent="TowerSpots" instance=ExtResource("9_85g3d")]
position = Vector2(482, -147)

[node name="TowerSpot10" parent="TowerSpots" instance=ExtResource("9_85g3d")]
position = Vector2(447, 11)

[node name="Timer (Paths)" type="Timer" parent="."]
autostart = true

[node name="PathSpawner" type="Node2D" parent="Timer (Paths)"]

[node name="Path2D" type="Path2D" parent="Timer (Paths)"]
curve = SubResource("Curve2D_sugp2")

[node name="PathFollow2D" type="PathFollow2D" parent="Timer (Paths)/Path2D"]
position = Vector2(-615, -340)
rotation = 0.41944
rotates = false
loop = false

[node name="enemy1" parent="Timer (Paths)/Path2D/PathFollow2D" instance=ExtResource("2_0wfyh")]
rotation = -0.478224

[node name="PlacementController" type="Node2D" parent="."]
script = ExtResource("5_tefeu")

[node name="RayCast2D" type="RayCast2D" parent="PlacementController"]
target_position = Vector2(0, 0)

[node name="UI" type="CanvasLayer" parent="."]
script = ExtResource("5_tbgi4")
tower_scene = ExtResource("4_jyhfs")

[node name="BuyTowerButton" type="TextureButton" parent="UI"]
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_top = -447.0
offset_right = 398.0
grow_vertical = 0
scale = Vector2(0.220232, 0.216842)
tooltip_text = "Tower 1"
mouse_default_cursor_shape = 2
texture_normal = ExtResource("7_o6xl0")
script = ExtResource("8_tipki")

[connection signal="mouse_entered" from="UI/BuyTowerButton" to="UI/BuyTowerButton" method="_on_mouse_entered"]
[connection signal="mouse_exited" from="UI/BuyTowerButton" to="UI/BuyTowerButton" method="_on_mouse_exited"]
[connection signal="pressed" from="UI/BuyTowerButton" to="UI/BuyTowerButton" method="_on_pressed"]
